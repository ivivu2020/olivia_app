(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{dQxq:function(l,n,e){"use strict";e.r(n);var o=e("8Y7J");class t{}var u=e("pMnS"),i=e("oBZk"),r=e("ZZ/e"),a=e("mrSG"),s=e("9Ap/"),d=e("D5/n"),m=e("KGI4"),h=e("Tcs0"),c=e("BOF4"),g=e.n(c);class p{constructor(l,n,e,o,t,u,i,r,a,s){this.platform=l,this.bookcombo=n,this.navCtrl=e,this.Roomif=o,this.storage=t,this.booking=u,this.loadingCtrl=i,this.gf=r,this.zone=a,this.toastCtrl=s,this.isenabled=!0,this.text="<b>V\u0103n ph\xf2ng t\u1ea1i TP. H\u1ed3 Ch\xed Minh:</b> L\u1ea7u 2, t\xf2a nh\xe0 Saigon Prime, 107-109-111 Nguy\u1ec5n \u0110\xecnh Chi\u1ec3u, Ph\u01b0\u1eddng 6, Qu\u1eadn 3, Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh<br />Th\u1eddi gian l\xe0m vi\u1ec7c:<br /><ul><li>Th\u1ee9 2 - Th\u1ee9 7: t\u1eeb 07h30 \u0111\u1ebfn 21h00</li><li>Ch\u1ee7 Nh\u1eadt: t\u1eeb 07h30 \u0111\u1ebfn 20h00</li></ul><br /><b>V\u0103n ph\xf2ng t\u1ea1i H\xe0 N\u1ed9i:</b> L\u1ea7u 9, 70-72 B\xe0 Tri\u1ec7u, Qu\u1eadn Ho\xe0n Ki\u1ebfm<br />Th\u1eddi gian l\xe0m vi\u1ec7c:<br /><ul ><li>Th\u1ee9 2 - Th\u1ee9 6: t\u1eeb 07h30 \u0111\u1ebfn 17h30</li></ul>",this.room=o.arrroom,this.jsonroom=o.jsonroom,r.googleAnalytion("roompaymentlive","load","")}ngOnInit(){}ionViewWillEnter(){this.storage.get("auth_token").then(l=>{this.auth_token=l})}next(){this.presentLoading();var l=this;if(l.jsonroom.RoomClasses=l.room,l.timestamp=Date.now(),l.booking.CEmail){var n=0;l.Roomif.order&&(n=1);var e={method:"POST",url:m.a.urls.baseUrl.urlPost+"/mInsertBooking",timeout:1e4,maxAttempts:5,retryDelay:2e3,headers:{"content-type":"application/json"},body:{RoomClassObj:l.jsonroom.RoomClasses[0].ListObjRoomClass,CName:l.Roomif.hoten,CEmail:l.booking.CEmail,CPhone:l.Roomif.phone,timestamp:l.timestamp,HotelID:l.booking.HotelId,paymentMethod:"51",note:l.Roomif.notetotal,source:"6",MemberToken:l.auth_token,CustomersStr:JSON.stringify(l.Roomif.arrcustomer),UsePointPrice:l.Roomif.pricepoint,NoteCorp:l.Roomif.order,Invoice:n,UserPoints:l.Roomif.point,CheckInDate:l.jsonroom.CheckInDate,CheckOutDate:l.jsonroom.CheckOutDate,TotalNight:l.jsonroom.TotalNight,MealTypeIndex:l.booking.indexmealtype,CompanyName:l.Roomif.companyname,CompanyAddress:l.Roomif.address,CompanyTaxCode:l.Roomif.tax,BillingAddress:l.Roomif.addressorder,promotionCode:l.Roomif.promocode,comboid:l.bookcombo.ComboId},json:!0};d(e,function(n,o,t){if(200!=o.statusCode){var u={page:"roompaymentlive",func:"next",message:o.statusMessage,content:o.body,type:"warning",param:JSON.stringify(e)};m.a.writeErrorLog(u,o)}if(n&&(n.page="roompaymentlive",n.func="next",n.param=JSON.stringify(e),m.a.writeErrorLog(n,o)),t)if(0==t.error){var i=t.code,r=t.bookingStatus;l.clearClonePage("page-roompaymentdone"),l.loader.dismiss(),l.navCtrl.navigateForward("/roompaymentdone/"+i+"/"+r)}else l.loader.dismiss(),alert(t.Msg);else n.page="roompaymentlive",n.func="next",n.param=JSON.stringify(e),m.a.writeErrorLog(n,o),l.loader.dismiss(),alert("\u0110\xe3 c\xf3 s\u1ef1 c\u1ed1 x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i!")})}else l.loader.dismiss(),l.presentToastr("Email kh\xf4ng h\u1ee3p l\u1ec7. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i.")}refreshToken(){var l=this;l.storage.get("auth_token").then(n=>{if(n){var e={method:"GET",url:m.a.urls.baseUrl.urlMobile+"/api/Account/reloadTokenClaims",headers:{"cache-control":"no-cache","content-type":"application/json",authorization:"Bearer "+n}};d(e,function(n,o,t){if(200!=o.statusCode){var u={page:"roompaymentdoneean",func:"refreshToken",message:o.statusMessage,content:o.body,type:"warning",param:JSON.stringify(e)};m.a.writeErrorLog(u,o)}if(n)n.page="roompaymentdoneean",n.func="refreshToken",n.param=JSON.stringify(e),m.a.writeErrorLog(n,o);else{var i=JSON.parse(t);l.zone.run(()=>{l.storage.remove("auth_token"),l.storage.set("auth_token",i.auth_token);var n=g()(i.auth_token);l.storage.remove("point"),l.storage.set("point",n.point)})}})}})}clearClonePage(l){let n=[];null!=(n=Array.from(document.querySelectorAll(l)))&&n.length>0&&n.forEach(l=>{null!=l&&l.length>0&&l.remove()})}check(){this.isenabled=!this.ischeck}presentLoading(){return a.__awaiter(this,void 0,void 0,function*(){this.loader=yield this.loadingCtrl.create({}),this.loader.present()})}goback(){this.navCtrl.back()}presentToastr(l){return a.__awaiter(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:l,duration:3e3,position:"top"})).present()})}}var f=e("xgBC"),b=o["\u0275crt"]({encapsulation:0,styles:[[".checkbox-md-secondary[_ngcontent-%COMP%]   .checkbox-checked[_ngcontent-%COMP%]{border-color:#26bed6;background-color:#26bed6}.button2[_ngcontent-%COMP%]{background:#ff9500;color:#fff;border-color:#ff9500;width:90%}.button1[_ngcontent-%COMP%]{color:#ff9500;border-color:#ff9500;width:100%;font-size:12px}.div-btn[_ngcontent-%COMP%]{background-color:#fff;text-align:center;margin-top:20px}.dailytime[_ngcontent-%COMP%]{margin:0 0 0 20px}"]],data:{}});function C(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,11,"ion-header",[],null,null,null,i.ib,i.n)),o["\u0275did"](1,49152,null,0,r.IonHeader,[o.ChangeDetectorRef,o.ElementRef],null,null),(l()(),o["\u0275eld"](2,0,null,0,9,"ion-row",[],null,null,null,i.Ab,i.F)),o["\u0275did"](3,49152,null,0,r.IonRow,[o.ChangeDetectorRef,o.ElementRef],null,null),(l()(),o["\u0275eld"](4,0,null,0,7,"ion-col",[["style","text-align: center;height: 48px;"]],null,null,null,i.db,i.i)),o["\u0275did"](5,49152,null,0,r.IonCol,[o.ChangeDetectorRef,o.ElementRef],null,null),(l()(),o["\u0275eld"](6,0,null,0,5,"div",[["style","align-self: center"]],null,null,null,null,null)),(l()(),o["\u0275eld"](7,0,null,null,1,"div",[["style","position: absolute;height: 48px;width: 48px;top: 0px;"]],null,[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.goback()&&o),o},null,null)),(l()(),o["\u0275eld"](8,0,null,null,0,"img",[["src","./assets/imgs/ios-arrow-round-back.svg"],["style","height: 48px; padding: 8px;margin-top: 4px;margin-left:-8px"]],null,null,null,null,null)),(l()(),o["\u0275eld"](9,0,null,null,2,"div",[["style","padding-top: 11px;font-size: 20px;font-weight: bold;"]],null,null,null,null,null)),(l()(),o["\u0275eld"](10,0,null,null,1,"label",[["class","text-title"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Thanh to\xe1n"])),(l()(),o["\u0275eld"](12,0,null,null,48,"ion-content",[["padding",""]],null,null,null,i.eb,i.j)),o["\u0275did"](13,49152,null,0,r.IonContent,[o.ChangeDetectorRef,o.ElementRef],null,null),(l()(),o["\u0275eld"](14,0,null,0,1,"div",[["style","text-align: center"]],null,null,null,null,null)),(l()(),o["\u0275eld"](15,0,null,null,0,"img",[["src","./assets/step/step_3.svg"]],null,null,null,null,null)),(l()(),o["\u0275eld"](16,0,null,0,44,"div",[["style","margin-top: 20px"]],null,null,null,null,null)),(l()(),o["\u0275eld"](17,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["V\u0103n ph\xf2ng t\u1ea1i TP. H\u1ed3 Ch\xed Minh:"])),(l()(),o["\u0275ted"](-1,null,[" L\u1ea7u 2, T\xf2a nh\xe0 Anh \u0110\u0103ng, 215 Nam K\u1ef3 Kh\u1edfi Ngh\u0129a, Ph\u01b0\u1eddng 7, Qu\u1eadn 3, Tp.HCM. "])),(l()(),o["\u0275eld"](20,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,[" Th\u1eddi gian l\xe0m vi\u1ec7c: "])),(l()(),o["\u0275eld"](22,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275eld"](23,0,null,null,8,"ul",[["class","dailytime"]],null,null,null,null,null)),(l()(),o["\u0275eld"](24,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Th\u1ee9 2 - Th\u1ee9 7: t\u1eeb 07h30 \u0111\u1ebfn 21h00"])),(l()(),o["\u0275eld"](26,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Ch\u1ee7 Nh\u1eadt: t\u1eeb 07h30 \u0111\u1ebfn 20h00"])),(l()(),o["\u0275eld"](28,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Hotline: "])),(l()(),o["\u0275eld"](30,0,null,null,1,"a",[["class","hotline-link"],["href","tel:19001870"],["id","DeskHotlineNumber"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["1900 1870"])),(l()(),o["\u0275eld"](32,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275eld"](33,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["V\u0103n ph\xf2ng t\u1ea1i H\xe0 N\u1ed9i:"])),(l()(),o["\u0275ted"](-1,null,[" T\u1ea7ng 12, 70-72 B\xe0 Tri\u1ec7u, Qu\u1eadn Ho\xe0n Ki\u1ebfm, H\xe0 N\u1ed9i "])),(l()(),o["\u0275eld"](36,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,[" Th\u1eddi gian l\xe0m vi\u1ec7c: "])),(l()(),o["\u0275eld"](38,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275eld"](39,0,null,null,6,"ul",[["class","dailytime"]],null,null,null,null,null)),(l()(),o["\u0275eld"](40,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Th\u1ee9 2 - Ch\u1ee7 Nh\u1eadt: t\u1eeb 08h00 \u0111\u1ebfn 20h00"])),(l()(),o["\u0275eld"](42,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Hotline: "])),(l()(),o["\u0275eld"](44,0,null,null,1,"a",[["class","hotline-link"],["href","tel:19002045"],["id","DeskHotlineNumber"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["1900 2045"])),(l()(),o["\u0275eld"](46,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275eld"](47,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["V\u0103n ph\xf2ng t\u1ea1i C\u1ea7n Th\u01a1:"])),(l()(),o["\u0275ted"](-1,null,[" T\u1ea7ng 7 - T\xf2a nh\xe0 STS - 11B \u0110\u1ea1i L\u1ed9 H\xf2a B\xecnh, P. T\xe2n An, Q. Ninh Ki\u1ec1u, TP. C\u1ea7n Th\u01a1. "])),(l()(),o["\u0275eld"](50,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,[" Th\u1eddi gian l\xe0m vi\u1ec7c: "])),(l()(),o["\u0275eld"](52,0,null,null,8,"ul",[["class","dailytime"]],null,null,null,null,null)),(l()(),o["\u0275eld"](53,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Th\u1ee9 2 - Ch\u1ee7 Nh\u1eadt: t\u1eeb 07h30 \u0111\u1ebfn 21h00"])),(l()(),o["\u0275eld"](55,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Ch\u1ee7 Nh\u1eadt: t\u1eeb 07h30 \u0111\u1ebfn 20h00"])),(l()(),o["\u0275eld"](57,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["Hotline: "])),(l()(),o["\u0275eld"](59,0,null,null,1,"a",[["class","hotline-link"],["href","tel:19002087"],["id","DeskHotlineNumber"]],null,null,null,null,null)),(l()(),o["\u0275ted"](-1,null,["1900 2087"])),(l()(),o["\u0275eld"](61,0,null,null,4,"ion-footer",[],null,null,null,i.gb,i.l)),o["\u0275did"](62,49152,null,0,r.IonFooter,[o.ChangeDetectorRef,o.ElementRef],null,null),(l()(),o["\u0275eld"](63,0,null,0,2,"div",[["style","background-color: #ffffff; text-align: center"]],null,null,null,null,null)),(l()(),o["\u0275eld"](64,0,null,null,1,"button",[["class","button button2 button-footer"],["ion-button",""],["outline",""],["round",""]],null,[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==l.component.next()&&o),o},null,null)),(l()(),o["\u0275ted"](-1,null,["Ti\u1ebfp t\u1ee5c"]))],null,null)}function v(l){return o["\u0275vid"](0,[(l()(),o["\u0275eld"](0,0,null,null,1,"app-roompaymentlive",[],null,null,null,C,b)),o["\u0275did"](1,114688,null,0,p,[r.Platform,s.a,r.NavController,s.d,f.b,s.b,r.LoadingController,h.b,o.NgZone,r.ToastController],null,null)],function(l,n){l(n,1,0)},null)}var y=o["\u0275ccf"]("app-roompaymentlive",p,v,{},{},[]),k=e("SVse"),T=e("iInd");e.d(n,"RoompaymentlivePageModuleNgFactory",function(){return R});var R=o["\u0275cmf"](t,[],function(l){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,y]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,k.NgLocalization,k.NgLocaleLocalization,[o.LOCALE_ID,[2,k["\u0275angular_packages_common_common_a"]]]),o["\u0275mpd"](4608,r.AngularDelegate,r.AngularDelegate,[o.NgZone,o.ApplicationRef]),o["\u0275mpd"](4608,r.ModalController,r.ModalController,[r.AngularDelegate,o.ComponentFactoryResolver,o.Injector,k.DOCUMENT]),o["\u0275mpd"](4608,r.PopoverController,r.PopoverController,[r.AngularDelegate,o.ComponentFactoryResolver,o.Injector,k.DOCUMENT]),o["\u0275mpd"](1073742336,k.CommonModule,k.CommonModule,[]),o["\u0275mpd"](1073742336,r.IonicModule,r.IonicModule,[]),o["\u0275mpd"](1073742336,T.p,T.p,[[2,T.v],[2,T.n]]),o["\u0275mpd"](1073742336,t,t,[]),o["\u0275mpd"](1024,T.l,function(){return[[{path:"",component:p}]]},[])])})}}]);