(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{q15d:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class o{}var u=e("pMnS"),a=e("oBZk"),i=e("ZZ/e"),r=e("SVse"),d=e("mrSG"),s=e("9Ap/"),p=e("KGI4"),c=e("Tcs0"),m=e("D5/n"),h=e("BOF4"),g=e.n(h),f=e("wdGQ");class b{constructor(l,n,e,t,o,u,a,i,r,d,s,p,c,m){this.platform=l,this.valueGlobal=n,this.navCtrl=e,this.Roomif=t,this.zone=o,this.launchReview=u,this.booking=a,this.storage=i,this.alertCtrl=r,this.value=d,this.modalCtrl=s,this.gf=p,this.bookCombo=c,this.activatedRoute=m,this.storage.get("checkreview").then(l=>{this.checkreview=0==l?0:l}),this.priceshow=this.bookCombo.totalprice,this.GetUserInfo(),this.gf.googleAnalytionCustom("ecommerce_purchase",{item_category:"flightcombopayment",item_name:this.bookCombo.ComboTitle,item_id:this.bookCombo.HotelCode,start_date:this.booking.CheckInDate,end_date:this.booking.CheckOutDate,number_of_rooms:this.booking.roomNb?this.booking.roomNb:1,value:Number(this.priceshow.toString().replace(/\./g,"").replace(/\,/g,"")),currency:"VND"})}ngOnInit(){this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.status=this.activatedRoute.snapshot.paramMap.get("stt")}next(){0==this.checkreview&&this.showConfirm();let l=0;this.booking.ChildAge.forEach(n=>{("<1"==n||Number(n)<2)&&(l+=1)}),this.navCtrl.navigateBack("/")}showConfirm(){return d.__awaiter(this,void 0,void 0,function*(){this.storage.set("checkreview",1);let l=yield this.alertCtrl.create({header:"B\u1ea1n th\xedch iVIVU.com?",message:"\u0110\xe1nh gi\xe1 \u1ee9ng d\u1ee5ng tr\xean App Store",mode:"ios",cssClass:"cls-reivewapp",buttons:[{text:"H\u1ee7y",handler:()=>{}},{text:"\u0110\xe1nh gi\xe1",role:"OK",handler:()=>{this.launchReview.launch().then(()=>console.log("Successfully launched store app"))}}]});l.present(),l.onDidDismiss().then(l=>{})})}refreshToken(){var l=this;l.storage.get("auth_token").then(n=>{if(n){var e={method:"GET",url:p.a.urls.baseUrl.urlMobile+"/api/Account/reloadTokenClaims",headers:{"cache-control":"no-cache","content-type":"application/json",authorization:"Bearer "+n}};m(e,function(n,t,o){if(200!=t.statusCode){var u={page:"userprofile",func:"refreshToken",message:t.statusMessage,content:t.body,type:"warning",param:JSON.stringify(e)};p.a.writeErrorLog(u,t)}if(n)n.page="userprofile",n.func="refreshToken",n.param=JSON.stringify(e),p.a.writeErrorLog(n,t);else{var a=JSON.parse(o);l.zone.run(()=>{l.storage.remove("auth_token"),l.storage.set("auth_token",a.auth_token);var n=g()(a.auth_token);l.storage.remove("point"),l.storage.set("point",n.point)})}})}})}GetUserInfo(){var l=this;l.storage.get("auth_token").then(n=>{if(n){var e={method:"GET",url:p.a.urls.baseUrl.urlMobile+"/api/Dashboard/GetUserInfo",timeout:1e4,maxAttempts:5,retryDelay:2e3,headers:{"cache-control":"no-cache","content-type":"application/json",authorization:"Bearer "+n}};m(e,function(n,t,o){if(200!=t.statusCode){var u={page:"roomdetailreview",func:"GetUserInfo",message:t.statusMessage,content:t.body,type:"warning",param:JSON.stringify(e)};p.a.writeErrorLog(u,t)}if(n)n.page="roomdetailreview",n.func="GetUserInfo",n.param=JSON.stringify(e),p.a.writeErrorLog(n,t);else if(o){var a,i=JSON.parse(o);if(l.validateEmail(i.fullname))l.storage.set("infocus",a={ho:"",ten:"",phone:i.phone});else{var r=i.fullname.split(" ");if(r.length>2){let l="";for(let n=1;n<r.length;n++)l+=1==n?r[n]:" "+r[n];a={ho:r[0],ten:l,phone:i.phone}}else a={ho:r[0],ten:r[1],phone:i.phone};l.storage.set("infocus",a)}l.storage.set("email",i.email),l.storage.set("jti",i.memberId),l.storage.set("username",i.fullname),l.storage.set("phone",i.phone),l.storage.set("point",i.point)}})}})}validateEmail(l){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(l).toLowerCase())}}var v=e("xgBC"),w=e("iInd"),C=t["\u0275crt"]({encapsulation:0,styles:[[".div-padding-bottom[_ngcontent-%COMP%]{padding-bottom:8px}.button2[_ngcontent-%COMP%]{border-color:#f79221;background-color:#f79221;color:#fff;width:90%;height:48px} {align-items:center!important}  .sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color,var(--ion-color-step-150,#f9f9f9))!important;--max-width:270px!important;font-size:14px!important;--min-width:250px!important;--width:auto!important;--min-height:auto!important;--height:auto!important;--max-height:90%!important;-webkit-font-smoothing:antialiased!important;left:0!important;right:0!important;top:0!important;bottom:0!important;display:flex!important;position:fixed!important;align-items:center!important;justify-content:center!important;font-family:var(--ion-font-family,inherit)!important;touch-action:none!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}  .alert-head.sc-ion-alert-ios{padding-top:12px!important;padding-bottom:7px!important;text-align:center!important;display:block!important}  .alert-wrapper.sc-ion-alert-ios{border-radius:13px!important;box-shadow:none!important;overflow:hidden!important;display:flex!important;flex-direction:column!important;width:var(--width)!important;min-width:var(--min-width)!important;max-width:var(--max-width)!important;height:var(--height)!important;min-height:var(--min-height)!important;max-height:var(--max-height)!important;background:var(--background)!important}  .alert-button-inner.sc-ion-alert-ios{flex-flow:row nowrap!important;flex-shrink:0!important;align-items:center!important;justify-content:center!important;height:100%!important}  .alert-button.sc-ion-alert-ios{border-radius:0!important;flex:1 1 auto!important;min-width:50%!important;height:44px!important;border-top:.55px solid!important;background-color:transparent!important;color:var(--ion-color-primary,#3880ff)!important;overflow:hidden!important;width:auto;margin:0!important;border-color:none;background:0 0;text-transform:none;font-size:15px!important}  .alert-button-group.sc-ion-alert-ios button:first-child{display:flex!important;flex-direction:row!important;flex-wrap:wrap!important}  .alert-button.sc-ion-alert-md{text-transform:none;font-size:14px;padding:10px 0}"]],data:{}});function x(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,40,"div",[["style","margin-top: 15px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","div-padding-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"ion-label",[["style","font-weight: bold"]],null,null,null,a.sb,a.x)),t["\u0275did"](3,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" C\u1ea3m \u01a1n Qu\xfd kh\xe1ch \u0111\xe3 s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 iVIVU.com "])),(l()(),t["\u0275eld"](5,0,null,null,5,"div",[["class","div-padding-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,4,"ion-label",[],null,null,null,a.sb,a.x)),t["\u0275did"](7,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" M\xe3 \u0111\u1eb7t ph\xf2ng c\u1ee7a qu\xfd kh\xe1ch l\xe0 "])),(l()(),t["\u0275eld"](9,0,null,0,1,"span",[["style","font-weight: bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[["class","div-padding-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](13,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" Th\xf4ng tin thanh to\xe1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn email c\u1ee7a Qu\xfd kh\xe1ch. "])),(l()(),t["\u0275eld"](15,0,null,null,9,"div",[["class","div-padding-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,8,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](17,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" M\u1eddi qu\xfd kh\xe1ch thanh to\xe1n s\u1ed1 ti\u1ec1n "])),(l()(),t["\u0275eld"](19,0,null,0,1,"span",[["style","font-weight: bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,[""," VND"])),(l()(),t["\u0275ted"](-1,0,[" trong v\xf2ng "])),(l()(),t["\u0275eld"](22,0,null,0,1,"span",[["style","font-weight: bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["12 ti\u1ebfng"])),(l()(),t["\u0275ted"](-1,0,[" \u0111\u1ec3 ho\xe0n t\u1ea5t vi\u1ec7c \u0111\u1eb7t ph\xf2ng. "])),(l()(),t["\u0275eld"](25,0,null,null,3,"div",[["class","div-padding-bottom"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](27,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" N\u1ebfu c\u1ea7n s\u1ef1 h\u1ed7 tr\u1ee3 vui l\xf2ng li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i 1900 1870 ho\u1eb7c email tc@ivivu.com \u0111\u1ec3 \u0111\u01b0\u1ee3c tr\u1ee3 gi\xfap. "])),(l()(),t["\u0275eld"](29,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](31,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" H\u1ed3 Ch\xed Minh: 1900 1870 "])),(l()(),t["\u0275eld"](33,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](35,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" H\xe0 N\u1ed9i: 1900 2045 "])),(l()(),t["\u0275eld"](37,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](39,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" C\u1ea7n Th\u01a1: 1900 2087 "]))],null,function(l,n){var e=n.component;l(n,10,0,e.code),l(n,20,0,e.priceshow)})}function R(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,30,"div",[["style","margin-top: 15px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"ion-label",[["style","font-weight: bold"],["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](3,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" C\u1ea3m \u01a1n Qu\xfd kh\xe1ch s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 iVIVU.com "])),(l()(),t["\u0275eld"](5,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,4,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](7,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" M\xe3 \u0111\u1eb7t ph\xf2ng c\u1ee7a qu\xfd kh\xe1ch l\xe0 "])),(l()(),t["\u0275eld"](9,0,null,0,1,"span",[["style","font-weight: bold"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](13,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" Nh\xe2n vi\xean iVIVU.COM s\u1ebd li\xean l\u1ea1c v\u1edbi Qu\xfd Kh\xe1ch trong th\u1eddi gian s\u1edbm nh\u1ea5t. "])),(l()(),t["\u0275eld"](15,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](17,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" N\u1ebfu c\u1ea7n s\u1ef1 h\u1ed7 tr\u1ee3 vui l\xf2ng li\xean h\u1ec7 qua email tc@ivivu.com ho\u1eb7c t\u1ed5ng \u0111\xe0i sau: "])),(l()(),t["\u0275eld"](19,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](21,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" H\u1ed3 Ch\xed Minh: 1900 1870 "])),(l()(),t["\u0275eld"](23,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](25,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" H\xe0 N\u1ed9i: 1900 2045 "])),(l()(),t["\u0275eld"](27,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,2,"ion-label",[["text-wrap",""]],null,null,null,a.sb,a.x)),t["\u0275did"](29,49152,null,0,i.IonLabel,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275ted"](-1,0,[" C\u1ea7n Th\u01a1: 1900 2087 "]))],null,function(l,n){l(n,10,0,n.component.code)})}function k(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"ion-header",[],null,null,null,a.ib,a.n)),t["\u0275did"](1,49152,null,0,i.IonHeader,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,7,"ion-row",[],null,null,null,a.Ab,a.F)),t["\u0275did"](3,49152,null,0,i.IonRow,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](4,0,null,0,5,"ion-col",[["style","text-align: center;height: 56px;"]],null,null,null,a.db,a.i)),t["\u0275did"](5,49152,null,0,i.IonCol,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](6,0,null,0,3,"div",[["style","align-self: center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"div",[["style","padding-top: 11px;font-size: 18px;font-weight: bold;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"label",[["class","text-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Ho\xe0n th\xe0nh"])),(l()(),t["\u0275eld"](10,0,null,null,10,"ion-content",[["padding",""]],null,null,null,a.eb,a.j)),t["\u0275did"](11,49152,null,0,i.IonContent,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](12,0,null,0,4,"ion-row",[],null,null,null,a.Ab,a.F)),t["\u0275did"](13,49152,null,0,i.IonRow,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](14,0,null,0,2,"ion-col",[["style","padding:0; text-align: center"]],null,null,null,a.db,a.i)),t["\u0275did"](15,49152,null,0,i.IonCol,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](16,0,null,0,0,"img",[["src","./assets/step/fc_step_3.svg"],["style","height: 16px;"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,0,1,null,x)),t["\u0275did"](18,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,R)),t["\u0275did"](20,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](21,0,null,null,4,"ion-footer",[],null,null,null,a.gb,a.l)),t["\u0275did"](22,49152,null,0,i.IonFooter,[t.ChangeDetectorRef,t.ElementRef],null,null),(l()(),t["\u0275eld"](23,0,null,0,2,"div",[["style","background-color: #ffffff; text-align: center"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"button",[["class","button button2"],["ion-button",""],["outline",""],["round",""]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.next()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Ho\xe0n th\xe0nh"]))],function(l,n){var e=n.component;l(n,18,0,"AL"==e.status),l(n,20,0,"RQ"==e.status)},null)}function y(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-flightcombopaymentdone",[],null,null,null,k,C)),t["\u0275did"](1,114688,null,0,b,[i.Platform,s.f,i.NavController,s.d,t.NgZone,f.a,s.b,v.b,i.AlertController,s.f,i.ModalController,c.b,s.a,w.a],null,null)],function(l,n){l(n,1,0)},null)}var I=t["\u0275ccf"]("app-flightcombopaymentdone",b,y,{},{},[]),_=e("s7LF");e.d(n,"FlightComboPaymentDonePageModuleNgFactory",function(){return D});var D=t["\u0275cmf"](o,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,I]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,r.NgLocalization,r.NgLocaleLocalization,[t.LOCALE_ID,[2,r["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,_["\u0275angular_packages_forms_forms_j"],_["\u0275angular_packages_forms_forms_j"],[]),t["\u0275mpd"](4608,i.AngularDelegate,i.AngularDelegate,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,i.ModalController,i.ModalController,[i.AngularDelegate,t.ComponentFactoryResolver,t.Injector,r.DOCUMENT]),t["\u0275mpd"](4608,i.PopoverController,i.PopoverController,[i.AngularDelegate,t.ComponentFactoryResolver,t.Injector,r.DOCUMENT]),t["\u0275mpd"](1073742336,r.CommonModule,r.CommonModule,[]),t["\u0275mpd"](1073742336,_["\u0275angular_packages_forms_forms_bc"],_["\u0275angular_packages_forms_forms_bc"],[]),t["\u0275mpd"](1073742336,_.FormsModule,_.FormsModule,[]),t["\u0275mpd"](1073742336,i.IonicModule,i.IonicModule,[]),t["\u0275mpd"](1073742336,w.p,w.p,[[2,w.v],[2,w.n]]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,w.l,function(){return[[{path:"",component:b}]]},[])])})}}]);