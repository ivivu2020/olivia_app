(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{SjSL:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),o=t("mrSG"),a=t("9Ap/"),u=t("ZZ/e"),i=t("wd/R"),c=t("EVdn"),s=t("rSKe");class d{constructor(n,l,t,e,o){this.modalCtrl=n,this.zone=l,this.searchhotel=t,this.valueGlobal=e,this.navCtrl=o,this.cofdate=0,this.cotdate=0,this.adult=2,this.child=1,this.roomnumber=1,this._daysConfig=[],this.nightCount=0}ngOnInit(){}ionViewWillEnter(){if(this.valueGlobal.listlunar)for(let o=0;o<this.valueGlobal.listlunar.length;o++)this._daysConfig.push({date:this.valueGlobal.listlunar[o].date,subTitle:this.valueGlobal.listlunar[o].name,cssClass:"lunarcalendar"});if(this.searchhotel.adult&&(this.adult=this.searchhotel.adult),null!=this.searchhotel.child&&(this.child=this.searchhotel.child),0==this.searchhotel.child&&(this.child=this.searchhotel.child),this.searchhotel.roomnumber&&(this.roomnumber=this.searchhotel.roomnumber),this.searchhotel.CheckInDate)this.cin=this.searchhotel.CheckInDate,this.cout=this.searchhotel.CheckOutDate,this.datecin=new Date(this.searchhotel.CheckInDate),this.datecout=new Date(this.searchhotel.CheckOutDate),this.cindisplay=i(this.datecin).format("DD-MM"),this.coutdisplay=i(this.datecout).format("DD-MM");else{this.cin=new Date;var n=this.cin.setTime(this.cin.getTime()+864e5),l=new Date(n);this.cin=i(l).format("YYYY-MM-DD"),this.cindisplay=i(l).format("DD-MM"),this.datecin=new Date(n),this.cout=new Date;var t=this.cout.setTime(this.cout.getTime()+1728e5),e=new Date(t);this.cout=i(e).format("YYYY-MM-DD"),this.coutdisplay=i(e).format("DD-MM"),this.datecout=new Date(t)}this.nightCount=i(this.datecout).diff(i(this.datecin),"days"),this.bindlunar()}closeModal(){this.navCtrl.back()}openPickupCalendar(){return o.__awaiter(this,void 0,void 0,function*(){let n=new Date(this.cin);const l={pickMode:"range",title:"Ch\u1ecdn ng\xe0y",monthFormat:"MM / YYYY",weekdays:["CN","T2","T3","T4","T5","T6","T7"],closeLabel:"Tho\xe1t",doneLabel:"",step:0,defaultScrollTo:n,defaultDateRange:{from:n,to:new Date(this.cout)},daysConfig:this._daysConfig};this.myCalendar=yield this.modalCtrl.create({component:s.CalendarModal,animated:!0,componentProps:{options:l}}),this.myCalendar.present().then(()=>{c(".days-btn").click(n=>this.clickedElement(n))});var t=this;const e=yield this.myCalendar.onDidDismiss(),o=e.data;if(e.data){const n=o.to;t.cin=i(o.from.dateObj).format("YYYY-MM-DD"),t.cout=i(n.dateObj).format("YYYY-MM-DD"),t.zone.run(()=>{t.searchhotel.CheckInDate=t.cin,t.searchhotel.CheckOutDate=t.cout,t.datecin=new Date(t.cin),t.datecout=new Date(t.cout),t.cindisplay=i(t.datecin).format("DD-MM-YYYY"),t.coutdisplay=i(t.datecout).format("DD-MM-YYYY"),t.cindisplay=i(t.datecin).format("DD-MM-YYYY"),t.coutdisplay=i(t.datecout).format("DD-MM-YYYY"),t.getDayName(t.datecin,t.datecout)})}})}clickedElement(n){return o.__awaiter(this,void 0,void 0,function*(){var l=n.currentTarget;if((c(l.parentNode).hasClass("endSelection")||c(l.parentNode).hasClass("startSelection"))&&this.modalCtrl){let n,g;var t,e,o,a,u,s;if(this.cofdate=0,this.cotdate=0,this.cinthu="",this.coutthu="",c(l.parentNode).hasClass("endSelection")?(n=c(".days-btn.lunarcalendar.on-selected > p")[0]?c(".days-btn.lunarcalendar.on-selected > p")[0].innerText:c(".on-selected")[0].textContent,g=c(".days.endSelection .days-btn.lunarcalendar > p")[0]?c(".days.endSelection .days-btn.lunarcalendar > p")[0].innerText:c(l)[0].textContent,s=c(".on-selected").closest(".month-box").children()[0].textContent,u=c(l).closest(".month-box").children()[0].textContent):(n=c(".days-btn.lunarcalendar.on-selected > p")[0]?c(".days-btn.lunarcalendar.on-selected > p")[0].innerText:c(l)[0].textContent,g=c(".days.endSelection .days-btn.lunarcalendar > p")[0]?c(".days.endSelection .days-btn.lunarcalendar > p")[0].innerText:c(".endSelection").children(".days-btn")[0].textContent,s=c(l).closest(".month-box").children()[0].textContent,u=c(".endSelection").closest(".month-box").children()[0].textContent),u&&u.length>0&&s&&s.length>0){o=s.split("/")[0],a=s.split("/")[1],t=u.split("/")[0],e=u.split("/")[1];var d=new Date(a,o-1,n),r=new Date(e,t-1,g);if(d&&r&&i(r).diff(d,"days")>0){var h=this;setTimeout(()=>{h.modalCtrl.dismiss()},100),h.cin=i(d).format("YYYY-MM-DD"),h.cout=i(r).format("YYYY-MM-DD"),h.zone.run(()=>{h.searchhotel.CheckInDate=h.cin,h.searchhotel.CheckOutDate=h.cout,h.datecin=new Date(h.cin),h.datecout=new Date(h.cout),h.cindisplay=i(h.datecin).format("DD-MM"),h.coutdisplay=i(h.datecout).format("DD-MM"),h.cindisplay=i(h.datecin).format("DD-MM"),h.coutdisplay=i(h.datecout).format("DD-MM"),h.nightCount=i(h.datecout).diff(i(h.datecin),"days"),this.bindlunar()})}}}})}openmnu(){this.searchhotel.CheckInDate=this.cin,this.searchhotel.CheckOutDate=this.cout,this.navCtrl.navigateForward("/occupancy")}search(){this.navCtrl.back()}bindlunar(){var n=this;if(n.valueGlobal.listlunar)for(let e=0;e<n.valueGlobal.listlunar.length;e++){var l=i(n.valueGlobal.listlunar[e].date).format("YYYY-MM-DD");if(l==n.cin){if(n.cofdate=1,1==n.valueGlobal.listlunar[e].isNameDisplay){var t=n.checklunar(n.valueGlobal.listlunar[e].name);n.cinthu=t?n.valueGlobal.listlunar[e].name+" t\u1ebft":n.valueGlobal.listlunar[e].name}}else this.getDayName(this.datecin,this.datecout);l==n.cout?(n.cotdate=1,1==n.valueGlobal.listlunar[e].isNameDisplay&&(t=n.checklunar(n.valueGlobal.listlunar[e].name),n.coutthu=t?n.valueGlobal.listlunar[e].name+" t\u1ebft":n.valueGlobal.listlunar[e].name)):this.getDayName(this.datecin,this.datecout)}else this.getDayName(this.datecin,this.datecout)}getDayName(n,l){if(!this.cinthu)switch(this.cinthu=i(n).format("dddd"),this.cinthu){case"Monday":this.cinthu="Th\u1ee9 2";break;case"Tuesday":this.cinthu="Th\u1ee9 3";break;case"Wednesday":this.cinthu="Th\u1ee9 4";break;case"Thursday":this.cinthu="Th\u1ee9 5";break;case"Friday":this.cinthu="Th\u1ee9 6";break;case"Saturday":this.cinthu="Th\u1ee9 7";break;default:this.cinthu="Ch\u1ee7 nh\u1eadt"}if(!this.coutthu)switch(this.coutthu=i(l).format("dddd"),this.coutthu){case"Monday":this.coutthu="Th\u1ee9 2";break;case"Tuesday":this.coutthu="Th\u1ee9 3";break;case"Wednesday":this.coutthu="Th\u1ee9 4";break;case"Thursday":this.coutthu="Th\u1ee9 5";break;case"Friday":this.coutthu="Th\u1ee9 6";break;case"Saturday":this.coutthu="Th\u1ee9 7";break;default:this.coutthu="Ch\u1ee7 nh\u1eadt"}}checklunar(n){return n.indexOf("M\xf9ng")>=0}}class r{}var h=t("pMnS"),g=t("oBZk"),p=e["\u0275crt"]({encapsulation:0,styles:[[".header-infobkg[_ngcontent-%COMP%]   .toolbar-infobkg[_ngcontent-%COMP%]{height:56px;text-align:center}.header-infobkg[_ngcontent-%COMP%]   .title-infobkg[_ngcontent-%COMP%]{font-weight:700;padding-top:8px}.header-infobkg[_ngcontent-%COMP%]   .img-close[_ngcontent-%COMP%]{max-width:150%}.header-infobkg[_ngcontent-%COMP%]   .cls-button[_ngcontent-%COMP%]{position:absolute;right:-4px;top:0}.header-infobkg[_ngcontent-%COMP%]   .cls-button[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:#fff}.content-infobkg[_ngcontent-%COMP%]   .m-top-5[_ngcontent-%COMP%]{margin-top:5px}.content-infobkg[_ngcontent-%COMP%]   .m-top-16[_ngcontent-%COMP%]{margin-top:16px}.content-infobkg[_ngcontent-%COMP%]   .m-top-22[_ngcontent-%COMP%]{margin-top:22px}.content-infobkg[_ngcontent-%COMP%]   .cls-row[_ngcontent-%COMP%]{background:#fff;height:48px;margin-top:5px;display:flex;border-bottom:.5px solid #bdbdbd}.content-infobkg[_ngcontent-%COMP%]   .div-img-left[_ngcontent-%COMP%]{width:48px;margin-left:-16px}.content-infobkg[_ngcontent-%COMP%]   .div-img-right[_ngcontent-%COMP%]{margin-top:8px;margin-left:-16px}.content-infobkg[_ngcontent-%COMP%]   .col-calendar[_ngcontent-%COMP%]{width:128px}.content-infobkg[_ngcontent-%COMP%]   .col-calendar[_ngcontent-%COMP%]   .font-thu[_ngcontent-%COMP%]{font-size:12px;color:#828282;letter-spacing:-.34px;font-weight:300;margin-top:5px}.content-infobkg[_ngcontent-%COMP%]   .col-calendar[_ngcontent-%COMP%]   .text-cin-input[_ngcontent-%COMP%], .content-infobkg[_ngcontent-%COMP%]   .col-calendar[_ngcontent-%COMP%]   .text-cout-input[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#000;letter-spacing:-.4px}.content-infobkg[_ngcontent-%COMP%]   .col-calendar[_ngcontent-%COMP%]   .text-pax[_ngcontent-%COMP%]{font-weight:300;font-size:16px}.content-infobkg[_ngcontent-%COMP%]   .text-bold[_ngcontent-%COMP%]{font-weight:600}.content-infobkg[_ngcontent-%COMP%]   .number-night[_ngcontent-%COMP%]{width:24px;height:16px;background:#f2f2f2;border-radius:10px;margin-top:25px;margin-right:16px;color:#828282;font-size:10px;display:flex}.content-infobkg[_ngcontent-%COMP%]   .number-night[_ngcontent-%COMP%]   .div-night-count[_ngcontent-%COMP%]{margin:2px 1px 3px 5px}.content-infobkg[_ngcontent-%COMP%]   .number-night[_ngcontent-%COMP%]   .div-icon-moon[_ngcontent-%COMP%]{margin-top:4px;margin-left:-2px}.content-infobkg[_ngcontent-%COMP%]   .number-night[_ngcontent-%COMP%]   .text-pax[_ngcontent-%COMP%]{letter-spacing:-.4px}.content-infobkg[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{border-radius:4px;background-color:#f59233;font-size:17px!important;font-weight:700;color:#fff;width:100%;margin-top:16px}"]],data:{}});function m(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,"ion-header",[["class","header-infobkg"]],null,null,null,g.ib,g.n)),e["\u0275did"](1,49152,null,0,u.IonHeader,[e.ChangeDetectorRef,e.ElementRef],null,null),(n()(),e["\u0275eld"](2,0,null,0,8,"ion-toolbar",[["class","toolbar-infobkg"]],null,null,null,g.Pb,g.U)),e["\u0275did"](3,49152,null,0,u.IonToolbar,[e.ChangeDetectorRef,e.ElementRef],null,null),(n()(),e["\u0275eld"](4,0,null,0,2,"ion-title",[["class","title-infobkg"]],null,null,null,g.Ob,g.T)),e["\u0275did"](5,49152,null,0,u.IonTitle,[e.ChangeDetectorRef,e.ElementRef],null,null),(n()(),e["\u0275ted"](-1,0,["Th\xf4ng tin \u0111\u1eb7t ph\xf2ng"])),(n()(),e["\u0275eld"](7,0,null,0,3,"ion-buttons",[["class","cls-button"],["start",""]],null,null,null,g.Y,g.d)),e["\u0275did"](8,49152,null,0,u.IonButtons,[e.ChangeDetectorRef,e.ElementRef],null,null),(n()(),e["\u0275eld"](9,0,null,0,1,"button",[["class","btn-close"],["routerDirection","root"],["slot","primary"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.closeModal()&&e),e},null,null)),(n()(),e["\u0275eld"](10,0,null,null,0,"img",[["class","img-close"],["src","./assets/ic_close.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,42,"ion-content",[["class","content-infobkg"],["padding",""]],null,null,null,g.eb,g.j)),e["\u0275did"](12,49152,null,0,u.IonContent,[e.ChangeDetectorRef,e.ElementRef],null,null),(n()(),e["\u0275eld"](13,0,null,0,40,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](14,0,null,null,21,"div",[["class","cls-row"]],null,[[null,"touchend"]],function(n,l,t){var e=!0;return"touchend"===l&&(e=!1!==n.component.openPickupCalendar()&&e),e},null,null)),(n()(),e["\u0275eld"](15,0,null,null,1,"div",[["class","div-img-left p-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,0,"img",[["class","img-padding img-checkin"],["src","./assets/imgs/icon_calender.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,6,"div",[["class","col-calendar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,2,"div",[["class","font-thu"]],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,1,"label",[["class","text-color text-cinthu"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Nh\u1eadn ph\xf2ng"])),(n()(),e["\u0275eld"](21,0,null,null,2,"div",[["class","text-cin  m-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,1,"label",[["class","text-cin-input"]],null,null,null,null,null)),(n()(),e["\u0275ted"](23,null,["",", ",""])),(n()(),e["\u0275eld"](24,0,null,null,4,"div",[["class","number-night"]],null,null,null,null,null)),(n()(),e["\u0275eld"](25,0,null,null,1,"div",[["class","div-night-count"]],null,null,null,null,null)),(n()(),e["\u0275ted"](26,null,["",""])),(n()(),e["\u0275eld"](27,0,null,null,1,"div",[["class","div-icon-moon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](28,0,null,null,0,"img",[["class","img-moon"],["src","./assets/imgs/ic_moon.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](29,0,null,null,6,"div",[["class","col-calendar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](30,0,null,null,2,"div",[["class","font-thu"]],null,null,null,null,null)),(n()(),e["\u0275eld"](31,0,null,null,1,"label",[["class","text-color text-cinthu"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Tr\u1ea3 ph\xf2ng"])),(n()(),e["\u0275eld"](33,0,null,null,2,"div",[["class","text-cout m-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](34,0,null,null,1,"label",[["class","text-cout-input"]],null,null,null,null,null)),(n()(),e["\u0275ted"](35,null,["",", ",""])),(n()(),e["\u0275eld"](36,0,null,null,14,"div",[["class","cls-row m-top-16"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openmnu()&&e),e},null,null)),(n()(),e["\u0275eld"](37,0,null,null,1,"div",[["class","div-img-right"]],null,null,null,null,null)),(n()(),e["\u0275eld"](38,0,null,null,0,"img",[["class","img-padding img-people"],["src","./assets/imgs/icon_people.svg"]],null,null,null,null,null)),(n()(),e["\u0275eld"](39,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](40,0,null,null,10,"div",[["class","m-top-22"]],null,null,null,null,null)),(n()(),e["\u0275eld"](41,0,null,null,9,"label",[["class","text-pax"]],null,null,null,null,null)),(n()(),e["\u0275eld"](42,0,null,null,1,"span",[["class","text-bold"]],null,null,null,null,null)),(n()(),e["\u0275ted"](43,null,["",""])),(n()(),e["\u0275ted"](-1,null,[" ng\u01b0\u1eddi l\u1edbn \xb7 "])),(n()(),e["\u0275eld"](45,0,null,null,1,"span",[["class","text-bold"]],null,null,null,null,null)),(n()(),e["\u0275ted"](46,null,["",""])),(n()(),e["\u0275ted"](-1,null,[" tr\u1ebb em \xb7 "])),(n()(),e["\u0275eld"](48,0,null,null,1,"span",[["class","text-bold"]],null,null,null,null,null)),(n()(),e["\u0275ted"](49,null,["",""])),(n()(),e["\u0275ted"](-1,null,[" ph\xf2ng"])),(n()(),e["\u0275eld"](51,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](52,0,null,null,1,"button",[["class","button btn-search"],["clear",""],["ion-button",""],["round",""]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.search()&&e),e},null,null)),(n()(),e["\u0275ted"](-1,null,["T\xecm ki\u1ebfm"]))],null,function(n,l){var t=l.component;n(l,23,0,t.cinthu,t.cindisplay),n(l,26,0,t.nightCount),n(l,35,0,t.coutthu,t.coutdisplay),n(l,43,0,t.adult),n(l,46,0,t.child),n(l,49,0,t.roomnumber)})}function f(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"app-popupinfobkg",[],null,null,null,m,p)),e["\u0275did"](1,114688,null,0,d,[u.ModalController,e.NgZone,a.e,a.f,u.NavController],null,null)],function(n,l){n(l,1,0)},null)}var b=e["\u0275ccf"]("app-popupinfobkg",d,f,{},{},[]),C=t("SVse"),M=t("s7LF"),D=t("iInd");t.d(l,"PopupinfobkgPageModuleNgFactory",function(){return k});var k=e["\u0275cmf"](r,[],function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[h.a,b]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,C.NgLocalization,C.NgLocaleLocalization,[e.LOCALE_ID,[2,C["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,M["\u0275angular_packages_forms_forms_j"],M["\u0275angular_packages_forms_forms_j"],[]),e["\u0275mpd"](4608,u.AngularDelegate,u.AngularDelegate,[e.NgZone,e.ApplicationRef]),e["\u0275mpd"](4608,u.ModalController,u.ModalController,[u.AngularDelegate,e.ComponentFactoryResolver,e.Injector,C.DOCUMENT]),e["\u0275mpd"](4608,u.PopoverController,u.PopoverController,[u.AngularDelegate,e.ComponentFactoryResolver,e.Injector,C.DOCUMENT]),e["\u0275mpd"](1073742336,C.CommonModule,C.CommonModule,[]),e["\u0275mpd"](1073742336,M["\u0275angular_packages_forms_forms_bc"],M["\u0275angular_packages_forms_forms_bc"],[]),e["\u0275mpd"](1073742336,M.FormsModule,M.FormsModule,[]),e["\u0275mpd"](1073742336,u.IonicModule,u.IonicModule,[]),e["\u0275mpd"](1073742336,D.p,D.p,[[2,D.v],[2,D.n]]),e["\u0275mpd"](1073742336,r,r,[]),e["\u0275mpd"](1024,D.l,function(){return[[{path:"",component:d}]]},[])])})}}]);