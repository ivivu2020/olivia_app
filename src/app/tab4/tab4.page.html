<!--
  Generated template for the InboxPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <!-- <ion-toolbar> -->
        <ion-row style="height: 56px;">
          <ion-title style="text-align: center;font-size: 20px;font-weight: bold">Thông báo</ion-title>
        </ion-row>
      <!-- </ion-toolbar> -->
</ion-header>

<ion-content style="background-color: #ffffff">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
        pullingIcon="none"
        refreshingSpinner="circles"
        refreshingText=""></ion-refresher-content>
</ion-refresher>
  <!-- <div *ngIf="hasloadRQdata && listRequestTrips.length ==0" class="trip-empty"> -->
    <div class="inbox-content-empty" *ngIf="items.length == 0 && loaddatadone">
        <div class="img-inbox-empty">
            <img class="img-empty" src="./assets/empty/trip_empty.svg">
        </div>
        <div class="text-trip-empty">
          <label>Hiện chưa có thư mới nào.</label>
        </div>
    </div>
    <div class="inbox-content" *ngIf="!loaddatadone">
      <ion-row *ngFor="let item of itemskeleton">
          <ion-row class="cls-border-bottom" style="width:100%">
                  <ion-item style="--padding-start:0;--background: transparent;--border-style:none;--padding-end:0;width:100%">
                    <ion-row style="width:100%">
                        <ion-col size="1.2" style="padding: 0">
                            <div>
                              <ion-skeleton-text animated style="width:100%;margin-top: 6px;height: 24px;width:24px;border-radius:24px"></ion-skeleton-text>
                            </div>
                          </ion-col>
                          <ion-col size="10.8" style="padding: 0">
                            <div><ion-skeleton-text animated style="width:100%;margin-top: 8px;height: 16px;"></ion-skeleton-text></div>
                            <div><ion-skeleton-text animated style="width:100%;margin-top: 8px;height: 16px;"></ion-skeleton-text></div>
                            <div><ion-skeleton-text animated style="width:25%;margin-top: 8px;height: 16px;"></ion-skeleton-text></div>
                        </ion-col>
                    </ion-row>
                  </ion-item>
        </ion-row>
      </ion-row>
    </div>
    
    <div class="inbox-content" *ngIf="items && items.length > 0 && loaddatadone">
        <ion-row *ngFor="let item of items" [ngClass]="items && items.length > 0 && !item.status ? 'item-unread' : '' ">
          <div *ngIf="!item.deleted" style="width:100%">
            <ion-row class="cls-border-bottom">
              <ion-item-sliding>
                    <ion-item style="--padding-start:0;--background: transparent;--border-style:none;--padding-end:0"  (click)="updateStatusMessage(item)">
                      <ion-row style="width:100%">
                          <ion-col size="1.2" style="padding: 0">
                              <div>
                                <img style="margin-top: 6px;" name="home" src="./assets/imgs/ic_home.svg" *ngIf="  item.notifyAction == 'approve' || item.notifyAction == 'cancel' || item.notifyAction == 'sharereviewofhotel' || item.notifyAction== 'waitingconfirmtopayment' || item.notifyAction == 'paymented' || item.notifyAction == 'bookingbegoingroom' " >
                                <img style="margin-top: 6px;" name="bus" src="./assets/imgs/ic_bus2.svg" *ngIf="item.notifyType == 'bookingbegoingcombotransfer'" >
                                <img style="margin-top: 6px;" name="message" src="./assets/imgs/ic_message.svg" *ngIf="item.notifyType == 'blog'" >
                                <img style="margin-top: 6px;" name="paper" src="./assets/imgs/ic_paper.svg" *ngIf="item.notifyAction == 'bookingbegoingcombofly' || item.notifyAction == 'flychangeinfo'" >
                              </div>
                            </ion-col>
                            <ion-col size="10.8" style="padding: 0">
                              <div><ion-label class="inbox-title">{{item.title}}</ion-label></div>
                              <div><ion-label [ngClass]="!item.status ? 'inbox-message hidden-text' : 'inbox-message readed-text' ">{{item.message}}</ion-label></div>
                              <div><ion-label class="inbox-date">{{item.date}}</ion-label></div>
                          </ion-col>
                      </ion-row>
                    </ion-item>
                    <ion-item-options side="end">
                      <ion-item-option style="margin-right:8px;background-color:#4c8dff" (click)="updateStatusMessage(item)">
                        Xem
                      </ion-item-option>
                      <ion-item-option color="danger" (click)="deleteNotifi(item)">
                        Xóa
                      </ion-item-option>
                      
                    </ion-item-options>
              </ion-item-sliding>
          </ion-row>
          </div>
        </ion-row>
    </div>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="!loadend">
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <!-- <div class="button-trip-empty">
        <button ion-button round outline class="button btn-trip-empty" (click)="goback()">Khám phá ngay</button>
    </div> -->
    
  <!-- </div> -->
</ion-content>
